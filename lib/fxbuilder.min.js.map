{"version":3,"file":"./lib/fxbuilder.min.js","mappings":"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","sources":["webpack://XMLBuilder/./src/ignoreAttributes.js","webpack://XMLBuilder/./src/xmlbuilder/json2xml.js","webpack://XMLBuilder/./src/xmlbuilder/orderedJs2Xml.js","webpack://XMLBuilder/webpack/bootstrap","webpack://XMLBuilder/webpack/startup"],"sourcesContent":["function getIgnoreAttributesFn(ignoreAttributes) {\n    if (typeof ignoreAttributes === 'function') {\n        return ignoreAttributes\n    }\n    if (Array.isArray(ignoreAttributes)) {\n        return (attrName) => {\n            for (const pattern of ignoreAttributes) {\n                if (typeof pattern === 'string' && attrName === pattern) {\n                    return true\n                }\n                if (pattern instanceof RegExp && pattern.test(attrName)) {\n                    return true\n                }\n            }\n        }\n    }\n    return () => false\n}\n\nmodule.exports = getIgnoreAttributesFn","'use strict';\n//parse Empty Node as self closing node\nconst buildFromOrderedJs = require('./orderedJs2Xml');\nconst getIgnoreAttributesFn = require('../ignoreAttributes')\n\nconst defaultOptions = {\n  attributeNamePrefix: '@_',\n  attributesGroupName: false,\n  textNodeName: '#text',\n  ignoreAttributes: true,\n  cdataPropName: false,\n  format: false,\n  indentBy: '  ',\n  suppressEmptyNode: false,\n  suppressUnpairedNode: true,\n  suppressBooleanAttributes: true,\n  tagValueProcessor: function(key, a) {\n    return a;\n  },\n  attributeValueProcessor: function(attrName, a) {\n    return a;\n  },\n  preserveOrder: false,\n  commentPropName: false,\n  unpairedTags: [],\n  entities: [\n    { regex: new RegExp(\"&\", \"g\"), val: \"&amp;\" },//it must be on top\n    { regex: new RegExp(\">\", \"g\"), val: \"&gt;\" },\n    { regex: new RegExp(\"<\", \"g\"), val: \"&lt;\" },\n    { regex: new RegExp(\"\\'\", \"g\"), val: \"&apos;\" },\n    { regex: new RegExp(\"\\\"\", \"g\"), val: \"&quot;\" }\n  ],\n  processEntities: true,\n  stopNodes: [],\n  // transformTagName: false,\n  // transformAttributeName: false,\n  oneListGroup: false\n};\n\nfunction Builder(options) {\n  this.options = Object.assign({}, defaultOptions, options);\n  if (this.options.ignoreAttributes === true || this.options.attributesGroupName) {\n    this.isAttribute = function(/*a*/) {\n      return false;\n    };\n  } else {\n    this.ignoreAttributesFn = getIgnoreAttributesFn(this.options.ignoreAttributes)\n    this.attrPrefixLen = this.options.attributeNamePrefix.length;\n    this.isAttribute = isAttribute;\n  }\n\n  this.processTextOrObjNode = processTextOrObjNode\n\n  if (this.options.format) {\n    this.indentate = indentate;\n    this.tagEndChar = '>\\n';\n    this.newLine = '\\n';\n  } else {\n    this.indentate = function() {\n      return '';\n    };\n    this.tagEndChar = '>';\n    this.newLine = '';\n  }\n}\n\nBuilder.prototype.build = function(jObj) {\n  if(this.options.preserveOrder){\n    return buildFromOrderedJs(jObj, this.options);\n  }else {\n    if(Array.isArray(jObj) && this.options.arrayNodeName && this.options.arrayNodeName.length > 1){\n      jObj = {\n        [this.options.arrayNodeName] : jObj\n      }\n    }\n    return this.j2x(jObj, 0, []).val;\n  }\n};\n\nBuilder.prototype.j2x = function(jObj, level, ajPath) {\n  let attrStr = '';\n  let val = '';\n  const jPath = ajPath.join('.')\n  for (let key in jObj) {\n    if(!Object.prototype.hasOwnProperty.call(jObj, key)) continue;\n    if (typeof jObj[key] === 'undefined') {\n      // supress undefined node only if it is not an attribute\n      if (this.isAttribute(key)) {\n        val += '';\n      }\n    } else if (jObj[key] === null) {\n      // null attribute should be ignored by the attribute list, but should not cause the tag closing\n      if (this.isAttribute(key)) {\n        val += '';\n      } else if (key[0] === '?') {\n        val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n      } else {\n        val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n      }\n      // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n    } else if (jObj[key] instanceof Date) {\n      val += this.buildTextValNode(jObj[key], key, '', level);\n    } else if (typeof jObj[key] !== 'object') {\n      //premitive type\n      const attr = this.isAttribute(key);\n      if (attr && !this.ignoreAttributesFn(attr, jPath)) {\n        attrStr += this.buildAttrPairStr(attr, '' + jObj[key]);\n      } else if (!attr) {\n        //tag value\n        if (key === this.options.textNodeName) {\n          let newval = this.options.tagValueProcessor(key, '' + jObj[key]);\n          val += this.replaceEntitiesValue(newval);\n        } else {\n          val += this.buildTextValNode(jObj[key], key, '', level);\n        }\n      }\n    } else if (Array.isArray(jObj[key])) {\n      //repeated nodes\n      const arrLen = jObj[key].length;\n      let listTagVal = \"\";\n      let listTagAttr = \"\";\n      for (let j = 0; j < arrLen; j++) {\n        const item = jObj[key][j];\n        if (typeof item === 'undefined') {\n          // supress undefined node\n        } else if (item === null) {\n          if(key[0] === \"?\") val += this.indentate(level) + '<' + key + '?' + this.tagEndChar;\n          else val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n          // val += this.indentate(level) + '<' + key + '/' + this.tagEndChar;\n        } else if (typeof item === 'object') {\n          if(this.options.oneListGroup){\n            const result = this.j2x(item, level + 1, ajPath.concat(key));\n            listTagVal += result.val;\n            if (this.options.attributesGroupName && item.hasOwnProperty(this.options.attributesGroupName)) {\n              listTagAttr += result.attrStr\n            }\n          }else{\n            listTagVal += this.processTextOrObjNode(item, key, level, ajPath)\n          }\n        } else {\n          if (this.options.oneListGroup) {\n            let textValue = this.options.tagValueProcessor(key, item);\n            textValue = this.replaceEntitiesValue(textValue);\n            listTagVal += textValue;\n          } else {\n            listTagVal += this.buildTextValNode(item, key, '', level);\n          }\n        }\n      }\n      if(this.options.oneListGroup){\n        listTagVal = this.buildObjectNode(listTagVal, key, listTagAttr, level);\n      }\n      val += listTagVal;\n    } else {\n      //nested node\n      if (this.options.attributesGroupName && key === this.options.attributesGroupName) {\n        const Ks = Object.keys(jObj[key]);\n        const L = Ks.length;\n        for (let j = 0; j < L; j++) {\n          attrStr += this.buildAttrPairStr(Ks[j], '' + jObj[key][Ks[j]]);\n        }\n      } else {\n        val += this.processTextOrObjNode(jObj[key], key, level, ajPath)\n      }\n    }\n  }\n  return {attrStr: attrStr, val: val};\n};\n\nBuilder.prototype.buildAttrPairStr = function(attrName, val){\n  val = this.options.attributeValueProcessor(attrName, '' + val);\n  val = this.replaceEntitiesValue(val);\n  if (this.options.suppressBooleanAttributes && val === \"true\") {\n    return ' ' + attrName;\n  } else return ' ' + attrName + '=\"' + val + '\"';\n}\n\nfunction processTextOrObjNode (object, key, level, ajPath) {\n  const result = this.j2x(object, level + 1, ajPath.concat(key));\n  if (object[this.options.textNodeName] !== undefined && Object.keys(object).length === 1) {\n    return this.buildTextValNode(object[this.options.textNodeName], key, result.attrStr, level);\n  } else {\n    return this.buildObjectNode(result.val, key, result.attrStr, level);\n  }\n}\n\nBuilder.prototype.buildObjectNode = function(val, key, attrStr, level) {\n  if(val === \"\"){\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }\n  }else{\n\n    let tagEndExp = '</' + key + this.tagEndChar;\n    let piClosingChar = \"\";\n    \n    if(key[0] === \"?\") {\n      piClosingChar = \"?\";\n      tagEndExp = \"\";\n    }\n  \n    // attrStr is an empty string in case the attribute came as undefined or null\n    if ((attrStr || attrStr === '') && val.indexOf('<') === -1) {\n      return ( this.indentate(level) + '<' +  key + attrStr + piClosingChar + '>' + val + tagEndExp );\n    } else if (this.options.commentPropName !== false && key === this.options.commentPropName && piClosingChar.length === 0) {\n      return this.indentate(level) + `<!--${val}-->` + this.newLine;\n    }else {\n      return (\n        this.indentate(level) + '<' + key + attrStr + piClosingChar + this.tagEndChar +\n        val +\n        this.indentate(level) + tagEndExp    );\n    }\n  }\n}\n\nBuilder.prototype.closeTag = function(key){\n  let closeTag = \"\";\n  if(this.options.unpairedTags.indexOf(key) !== -1){ //unpaired\n    if(!this.options.suppressUnpairedNode) closeTag = \"/\"\n  }else if(this.options.suppressEmptyNode){ //empty\n    closeTag = \"/\";\n  }else{\n    closeTag = `></${key}`\n  }\n  return closeTag;\n}\n\nfunction buildEmptyObjNode(val, key, attrStr, level) {\n  if (val !== '') {\n    return this.buildObjectNode(val, key, attrStr, level);\n  } else {\n    if(key[0] === \"?\") return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar;\n    else {\n      return  this.indentate(level) + '<' + key + attrStr + '/' + this.tagEndChar;\n      // return this.buildTagStr(level,key, attrStr);\n    }\n  }\n}\n\nBuilder.prototype.buildTextValNode = function(val, key, attrStr, level) {\n  if (this.options.cdataPropName !== false && key === this.options.cdataPropName) {\n    return this.indentate(level) + `<![CDATA[${val}]]>` +  this.newLine;\n  }else if (this.options.commentPropName !== false && key === this.options.commentPropName) {\n    return this.indentate(level) + `<!--${val}-->` +  this.newLine;\n  }else if(key[0] === \"?\") {//PI tag\n    return  this.indentate(level) + '<' + key + attrStr+ '?' + this.tagEndChar; \n  }else{\n    let textValue = this.options.tagValueProcessor(key, val);\n    textValue = this.replaceEntitiesValue(textValue);\n  \n    if( textValue === ''){\n      return this.indentate(level) + '<' + key + attrStr + this.closeTag(key) + this.tagEndChar;\n    }else{\n      return this.indentate(level) + '<' + key + attrStr + '>' +\n         textValue +\n        '</' + key + this.tagEndChar;\n    }\n  }\n}\n\nBuilder.prototype.replaceEntitiesValue = function(textValue){\n  if(textValue && textValue.length > 0 && this.options.processEntities){\n    for (let i=0; i<this.options.entities.length; i++) {\n      const entity = this.options.entities[i];\n      textValue = textValue.replace(entity.regex, entity.val);\n    }\n  }\n  return textValue;\n}\n\nfunction indentate(level) {\n  return this.options.indentBy.repeat(level);\n}\n\nfunction isAttribute(name /*, options*/) {\n  if (name.startsWith(this.options.attributeNamePrefix) && name !== this.options.textNodeName) {\n    return name.substr(this.attrPrefixLen);\n  } else {\n    return false;\n  }\n}\n\nmodule.exports = Builder;\n","const EOL = \"\\n\";\n\n/**\n * \n * @param {array} jArray \n * @param {any} options \n * @returns \n */\nfunction toXml(jArray, options) {\n    let indentation = \"\";\n    if (options.format && options.indentBy.length > 0) {\n        indentation = EOL;\n    }\n    return arrToStr(jArray, options, \"\", indentation);\n}\n\nfunction arrToStr(arr, options, jPath, indentation) {\n    let xmlStr = \"\";\n    let isPreviousElementTag = false;\n\n    for (let i = 0; i < arr.length; i++) {\n        const tagObj = arr[i];\n        const tagName = propName(tagObj);\n        if(tagName === undefined) continue;\n\n        let newJPath = \"\";\n        if (jPath.length === 0) newJPath = tagName\n        else newJPath = `${jPath}.${tagName}`;\n\n        if (tagName === options.textNodeName) {\n            let tagText = tagObj[tagName];\n            if (!isStopNode(newJPath, options)) {\n                tagText = options.tagValueProcessor(tagName, tagText);\n                tagText = replaceEntitiesValue(tagText, options);\n            }\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += tagText;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.cdataPropName) {\n            if (isPreviousElementTag) {\n                xmlStr += indentation;\n            }\n            xmlStr += `<![CDATA[${tagObj[tagName][0][options.textNodeName]}]]>`;\n            isPreviousElementTag = false;\n            continue;\n        } else if (tagName === options.commentPropName) {\n            xmlStr += indentation + `<!--${tagObj[tagName][0][options.textNodeName]}-->`;\n            isPreviousElementTag = true;\n            continue;\n        } else if (tagName[0] === \"?\") {\n            const attStr = attr_to_str(tagObj[\":@\"], options);\n            const tempInd = tagName === \"?xml\" ? \"\" : indentation;\n            let piTextNodeName = tagObj[tagName][0][options.textNodeName];\n            piTextNodeName = piTextNodeName.length !== 0 ? \" \" + piTextNodeName : \"\"; //remove extra spacing\n            xmlStr += tempInd + `<${tagName}${piTextNodeName}${attStr}?>`;\n            isPreviousElementTag = true;\n            continue;\n        }\n        let newIdentation = indentation;\n        if (newIdentation !== \"\") {\n            newIdentation += options.indentBy;\n        }\n        const attStr = attr_to_str(tagObj[\":@\"], options);\n        const tagStart = indentation + `<${tagName}${attStr}`;\n        const tagValue = arrToStr(tagObj[tagName], options, newJPath, newIdentation);\n        if (options.unpairedTags.indexOf(tagName) !== -1) {\n            if (options.suppressUnpairedNode) xmlStr += tagStart + \">\";\n            else xmlStr += tagStart + \"/>\";\n        } else if ((!tagValue || tagValue.length === 0) && options.suppressEmptyNode) {\n            xmlStr += tagStart + \"/>\";\n        } else if (tagValue && tagValue.endsWith(\">\")) {\n            xmlStr += tagStart + `>${tagValue}${indentation}</${tagName}>`;\n        } else {\n            xmlStr += tagStart + \">\";\n            if (tagValue && indentation !== \"\" && (tagValue.includes(\"/>\") || tagValue.includes(\"</\"))) {\n                xmlStr += indentation + options.indentBy + tagValue + indentation;\n            } else {\n                xmlStr += tagValue;\n            }\n            xmlStr += `</${tagName}>`;\n        }\n        isPreviousElementTag = true;\n    }\n\n    return xmlStr;\n}\n\nfunction propName(obj) {\n    const keys = Object.keys(obj);\n    for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if(!obj.hasOwnProperty(key)) continue;\n        if (key !== \":@\") return key;\n    }\n}\n\nfunction attr_to_str(attrMap, options) {\n    let attrStr = \"\";\n    if (attrMap && !options.ignoreAttributes) {\n        for (let attr in attrMap) {\n            if(!attrMap.hasOwnProperty(attr)) continue;\n            let attrVal = options.attributeValueProcessor(attr, attrMap[attr]);\n            attrVal = replaceEntitiesValue(attrVal, options);\n            if (attrVal === true && options.suppressBooleanAttributes) {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}`;\n            } else {\n                attrStr += ` ${attr.substr(options.attributeNamePrefix.length)}=\"${attrVal}\"`;\n            }\n        }\n    }\n    return attrStr;\n}\n\nfunction isStopNode(jPath, options) {\n    jPath = jPath.substr(0, jPath.length - options.textNodeName.length - 1);\n    let tagName = jPath.substr(jPath.lastIndexOf(\".\") + 1);\n    for (let index in options.stopNodes) {\n        if (options.stopNodes[index] === jPath || options.stopNodes[index] === \"*.\" + tagName) return true;\n    }\n    return false;\n}\n\nfunction replaceEntitiesValue(textValue, options) {\n    if (textValue && textValue.length > 0 && options.processEntities) {\n        for (let i = 0; i < options.entities.length; i++) {\n            const entity = options.entities[i];\n            textValue = textValue.replace(entity.regex, entity.val);\n        }\n    }\n    return textValue;\n}\nmodule.exports = toXml;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(533);\n"],"names":["module","exports","ignoreAttributes","Array","isArray","attrName","_step","_iterator","_createForOfIteratorHelperLoose","done","pattern","value","RegExp","test","buildFromOrderedJs","require","getIgnoreAttributesFn","defaultOptions","attributeNamePrefix","attributesGroupName","textNodeName","cdataPropName","format","indentBy","suppressEmptyNode","suppressUnpairedNode","suppressBooleanAttributes","tagValueProcessor","key","a","attributeValueProcessor","preserveOrder","commentPropName","unpairedTags","entities","regex","val","processEntities","stopNodes","oneListGroup","Builder","options","this","Object","assign","isAttribute","ignoreAttributesFn","attrPrefixLen","length","processTextOrObjNode","indentate","tagEndChar","newLine","object","level","ajPath","result","j2x","concat","undefined","keys","buildTextValNode","attrStr","buildObjectNode","repeat","name","startsWith","substr","prototype","build","jObj","arrayNodeName","_jObj","jPath","join","hasOwnProperty","call","Date","attr","buildAttrPairStr","newval","replaceEntitiesValue","arrLen","listTagVal","listTagAttr","j","item","textValue","Ks","L","closeTag","tagEndExp","piClosingChar","indexOf","i","entity","replace","arrToStr","arr","indentation","xmlStr","isPreviousElementTag","tagObj","tagName","propName","newJPath","newIdentation","tagStart","attr_to_str","tagValue","endsWith","includes","attStr","tempInd","piTextNodeName","tagText","isStopNode","obj","attrMap","attrVal","lastIndexOf","index","jArray","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}